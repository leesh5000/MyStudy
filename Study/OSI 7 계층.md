OSI 7 Layer는 네트워크 통신을 7단계로 나누어 설명하는 표준 모델을 말합니다. 쉽게 말해서, 컴퓨터들이 서로 어떻게 데이터를 주고받는지를 각 계층별로 **`표준화`**하여 구분해 놓은 것을 말합니다. 이렇게 표준화함으로써 `다양한 시스템 및 기 간의 호환성을 보장`할 수 있습니다.

## 계층별 구분

| 이름                       | 목적                   | 실생활 예시 (온라인 쇼핑)                         | 기술 예시                      |
|--------------------------|----------------------|-----------------------------------------|----------------------------|
| 7계층: 응용 계층(Application)  | 사용자가 직접 사용하는 프로그램 제공 | 쇼핑몰 웹사이트나 앱에서 상품을 검색하고 주문버튼을 클릭         | 웹브라우저, 이메일 프로그램, 카카오톡      |
| 6계층: 표현 계층(Presentation) | 데이터 암호화, 압축, 변환 처리   | 주문 정보를 안전하게 암호화하고, 이미지를 압축해서 빠르게 로딩     | HTTPS 암호화, JPEG 압축, 문자 인코딩 |
| 5계층: 세션 계층(Session)      | 통신 연결 관리 및 동기화       | 로그인 상태 유지, 장바구니 정보 저장, 결제 과정 중 연결 끊김 방지 | 로그인 세션, 화상회의 연결 관리         |
| 4계층: 전송 계층(Transport)    | 데이터 전송의 신뢰성 보장       | 주문 데이터가 손실되지 않고 완전히 전달되는지 확인            | TCP (신뢰성), UDP (속도 우선)     |
| 3계층: 네트워크 계층(Network)    | 데이터를 목적지까지 경로 설정     | 여러분의 주문이 쇼핑몰 서버까지 가는 최적의 인터넷 경로 찾기      | IP 주소, 라우터                 |
| 2계층: 데이터링크 계층(Data Link) | 직접 연결된 기기 간 데이터 전송   | 여러분의 스마트폰에서 와이파이 공유기로 데이터 전송            | 이더넷, 와이파이, 블루투스            |
| 1계층: 물리 계층(Physical)     | 실제 전기신호나 전파로 데이터 전송  | 실제 전선, 광케이블, 전파를 통해 0과 1의 신호 전달         | 랜선, 광케이블, 전파               |

## 계층을 구분해 놓은 이유

그럼 왜 이렇게 네트워크 통신을 7단계로 구분해놓았을까요?

계층을 구분해 놓음으로써 문제 해결이 쉬워집니다. 수 많은 이종간 시스템이 네트워크 상에서 통신을 하는데 오류가 발생하거나 장애가 발생하면 이를 해결하는 것은 쉬운 일이 아닐 겁니다.

네트워크 시스템을 위와 같은 7단계로 분류해놓음으로써 문제가 발생한 계층만 조사하면 되기 때문에 각 계층의 독립성이 보장되고 문제해결이 훨씬 간단해집니다.

또한, 특정 계층에 문제가 발생했을 때, 다른 계층에 영향없이 해당 계층만 수정하거나 교체할 수 있습니다.

정리하자면 다음과 같습니다.

- 독립적인 문제 해결
- 모듈화 및 확장성
- 유지보수 용이

## 브라우저에 https://google.com을 요청했을 때

### 1 계층씩 내려가며: 송신 (브라우저 → 네트워크)

| OSI 계층 | 송신 측에서 일어나는 핵심 동작 |
| --- | --- |
| **7 Application** | - 사용자가 URL 입력 → 브라우저가 **HTTP/1.1 `GET /` 요청 메시지** 작성  - 쿠키·HTTP 헤더 조립 |
| **6 Presentation** | - **TLS 핸드셰이크**를 시작하여 암호 알고리즘·세션키 협상  - 요청 본문·헤더를 **암호화(HTTPS)**·필요 시 압축·텍스트 인코딩(UTF‑8) |
| **5 Session** | - TLS 핸드셰이크 동안 **세션 관리**(시퀀스 넘버, 암·복호 상태)  - 이후 “TLS 세션 ID/티켓”을 유지해 재접속 시 재사용 |
| **4 Transport** | - **TCP 3‑way handshake**: SYN → SYN‑ACK → ACK  - **포트 443**(HTTPS)로 연결, 세그먼트화·순서·재전송·흐름제어 |
| **3 Network** | - 클라이언트 IP(예: 192.0.2.15) → 서버 IP(93.184.216.34)로 **라우팅**  - **IP 헤더**에 TTL, 프로토콜(TCP) 기록; 필요 시 ICMP 오류 처리 |
| **2 Data Link** | - 이더넷 프레임 캡슐화: 대상 **MAC 주소** 찾기(ARP)  - CRC로 프레임 오류 검출, 스위치/AP를 통해 동일 네트워크 구간 전달 |
| **1 Physical** | - UTP 케이블/무선 전파/광섬유로 **전기·광·RF 신호** 전송  - 비트 타이밍(클럭)·전압 수준·모듈레이션 규격 준수 |

### 네트워크 중간(라우터·스위치)

- **물리(1)·데이터링크(2)**: 매 홉마다 프레임을 받고 새 프레임으로 재전송
- **네트워크(3)**: IP 헤더의 목적지 주소만 확인, 최적 경로 선택 후 패킷 전달
- 상위 OSI 4~7 계층 데이터는 **전혀 열어보지 않는다** (캡슐화 유지)

### 1 계층씩 올라가며: 수신 (서버)

| OSI 계층             | 수신 측에서 일어나는 핵심 동작                                                   |
|--------------------|---------------------------------------------------------------------|
| **1 Physical**     | 신호 수신 → 비트 스트림 복구                                                   |
| **2 Data Link**    | CRC 확인, 프레임 → **IP 패킷 추출**                                          |
| **3 Network**      | 목적지 IP 자기 자신인지 확인, TTL 감소, **TCP 세그먼트 추출**                          |
| **4 Transport**    | 포트 443 소켓 매핑, 순서 재조립, **ACK** 응답, 세그먼트 → **TLS 레코드 추출**             |
| **5 Session**      | TLS 세션 상태 확인, 복호화 키 선택                                              |
| **6 Presentation** | **복호화·압축 해제·디코딩** → 순수 HTTP 메시지 얻음                                  |
| **7 Application**  | 웹 서버(예: Nginx)가 HTTP 요청 파싱, 애플리케이션(예: Spring)으로 전달해 HTML/JSON 응답 작성 |

## 같이보기: TCP/IP 5 Layer

`TCP/IP 5 Layer`는 OSI 7 Layer를 이야기 할 때 자주 언급되는 개념입니다. 두 개념은 유사한 점이 많고, 간단히 보자면 OSI 7 Layer의 5,6,7 계층을 하나로 합쳐 5 계층으로 분류한 것이 TCP/IP 5 계층입니다. 그리고, 현재 우리가 사용하는 인터넷의 기반 개념이기도 합니다.

간단히 말해서 OSI 7 Layer가 개념 모델이라고 하면, TCP/IP 5 Layer는 이 개념 모델에 대한 구현입니다. (그렇다고해서 OSI 7 Layer가 더 먼저 나온 것은 아닙니다.)

### 두 모델 비교표

| 구분        | TCP/IP (인터넷 모델)  | OSI 모델                |
|-----------|------------------|-----------------------|
| **탄생 시기** | 1970년대 초-중반 (먼저) | 1970년대 후반-1980년대 (나중) |
| **계층 수**  | 4-5계층            | 7계층                   |
| **개발 주체** | 미국 DARPA (실무진)   | ISO (국제 표준화 기구)       |
| **개발 방식** | 실제 구현하면서 발전      | 이론적 설계 후 표준화          |
| **목적**    | 실용적 네트워크 구축      | 완벽한 표준 모델 제시          |
| **현재 상황** | 실제 인터넷의 기반       | 이론 학습용 참고 모델          |
| **특징**    | 유연하고 실용적         | 체계적이고 완벽함             |

### TCP/IP vs OSI 계층 대응 관계

| TCP/IP 계층      | 해당 기능         | OSI 대응 계층          |
|----------------|---------------|--------------------|
| **5. 응용 계층**   | 사용자 프로그램      | 5,6,7계층 (세션+표현+응용) |
| **4. 전송 계층**   | 신뢰성 있는 데이터 전송 | 4계층 (전송)           |
| **3. 인터넷 계층**  | 경로 설정         | 3계층 (네트워크)         |
| **2. 네트워크 접근** | 물리적 네트워크 연결   | 1,2계층 (물리+데이터링크)   |

## 결론

OSI 7 Layer는 네트워크에서 다양한 시스템 및 기기 간의 통신을 위해 네트워크를 7개로 계층화 한 표준 모델입니다. 이렇게 함으로써 각 계층간의 독립적인 문제 해결 및 수정/유지보수를 가능하게 하고, 다양한 기기간의 호환성을 보장합니다.