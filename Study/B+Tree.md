## B+Tree의 기본 정의

**B+Tree**는 데이터베이스와 파일 시스템에서 효율적인 검색, 삽입, 삭제를 위해 사용되는 균형 잡힌 트리 자료구조입니다. B-Tree의 변형으로, 모든 데이터(값)는 리프 노드에만 저장되고, 내부 노드는 오직 키(인덱스) 역할만 수행합니다.

## 동작 방식과 원리

```text
					  [2020 | 2021]
                     /      |      \
                   /        |       \
               [2018]     [2020]   [2022 | 2023]
              /     |       ||       |     |    \
             /      |       ||       |     |     \
     [2017|2018] [2019] [2020] [2021] [2022] [2023] [2024|2025]
     ────────────────────────────────────────────────────────
     Kim,Lee     Park   Choi   Jung   Song   Yoon   Min,Cho
       ↕         ↕      ↕      ↕      ↕      ↕       ↕
    실제 학생    (리프 노드들이 연결되어 순차 접근 가능)
     데이터
```

### 핵심 구조적 특징

1. **계층적 구조**: 루트, 내부 노드, 리프 노드로 구성
2. **데이터 저장**: 모든 실제 데이터는 리프 노드에만 존재
3. **내부 노드**: 검색을 위한 키만 저장 (데이터 없음)
4. **연결 리스트**: 모든 리프 노드가 순서대로 연결되어 있음
5. **균형 유지**: 모든 리프 노드가 같은 레벨에 위치

### 동작 원리

- **검색**: 루트에서 시작해 키를 비교하며 리프 노드까지 내려감
- **범위 검색**: 리프 노드의 연결 리스트를 활용해 효율적으로 수행
- **삽입/삭제**: 노드 분할과 병합을 통해 트리 균형 유지

## 실생활 예시

### 도서관 카드 목록 시스템

B+Tree를 도서관의 카드 목록 시스템으로 이해해보겠습니다:

- **내부 노드**: 도서관의 안내 표지판 (예: "A-F", "G-M", "N-Z")
- **리프 노드**: 실제 도서 카드가 담긴 서랍
- **연결된 리프**: 서랍들이 알파벳 순서로 나란히 배치

특정 책을 찾을 때:

1. 입구의 큰 안내판을 보고 방향 결정
2. 해당 구역의 세부 안내판으로 이동
3. 최종적으로 실제 카드가 있는 서랍에 도달
4. 비슷한 제목의 책들을 찾으려면 인접한 서랍들을 순서대로 확인

## B+Tree vs B-Tree 비교

| 특징            | B+Tree              | B-Tree         |
|---------------|---------------------|----------------|
| **데이터 저장 위치** | 리프 노드에만 저장          | 모든 노드에 저장      |
| **내부 노드 역할**  | 인덱스 역할만             | 인덱스 + 데이터 저장   |
| **리프 노드 연결**  | 모든 리프 노드가 연결됨       | 연결되지 않음        |
| **범위 검색 효율성** | 매우 높음 (연결 리스트 활용)   | 보통 (트리 순회 필요)  |
| **메모리 효율성**   | 내부 노드가 더 많은 키 저장 가능 | 데이터로 인해 키 수 제한 |
| **검색 성능**     | 항상 리프까지 이동          | 중간에서 발견 가능     |

## 주요 장점

1. **일관된 성능**: 모든 검색이 같은 깊이로 수행
2. **뛰어난 범위 검색**: 리프 노드 연결로 순차 접근 최적화
3. **높은 팬아웃**: 내부 노드에 더 많은 키 저장 가능
4. **디스크 I/O 최적화**: 데이터베이스와 파일 시스템에 적합

B+Tree는 특히 대용량 데이터를 다루는 데이터베이스 시스템(MySQL, PostgreSQL 등)에서 인덱스 구조로 널리 사용되며, 빠른 검색과 효율적인 범위 쿼리를 제공합니다.

## 결론

B+Tree는 모든 데이터(값)은 리프 노드에 저장하고, 내부 노드에는 오직 키(인덱스)만 저장하는 형태의 균형 잡힌 트리 자료구조입니다. 트리 구조의 특성으로 검색/삽입/삭제가 log 시간에 가능하고, B+Tree는 또한, 모든 리프 노드들이 연결 리스트로 연결되어 정렬되어 있기 때문에 범위 검색에 유리합니다. 이러한 특성으로 인해 데이터베이스의 인덱스 구조로 많이 사용됩니다.