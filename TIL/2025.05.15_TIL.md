# 2025.05.15 TIL

## 1. 회사 업무

### 학습 내용

### Redis Cache Server

진행 중인 프로젝트의 성능 향상을 위해 Redis를 도입했는데 Cache Evict 로직을 어떻게 관리해야할 지 고민이다. 도메인 간의 관계가 복잡해질수록 `@CacheEvict` 어노테이션만으로는 한계가 있을 것 같다. 가령 예를 들면, 어떤 설비의 가동 시간을 구하는 메서드를 Redis 캐시로 저장해놓았다고 생각해보면, 해당 설비의 상태를 변경시키는 모든 메서드에 `@CacheEvict` 를 사용하여 데이터 불일치를 없애주어야 한다. 이건 굉장히 간단한 예시이지만, 캐시가 적용된 어떤 메서드가 5개 이상의 도메인을 사용하여 값을 도출해내면 굉장히 복잡해질 것 같다.

이에 대한 해결 방법으로 현재 생각해낸 것은 CacheManager + Event 조합으로 중앙화된 방식으로 해결해보려고 한다.

### Server Sent Events

진행 중인 프로젝트에는 서버에서 클라이언트에 알림을 발송하는 로직이 있는데, SSE(Server Sent Events)라는 기술을 이용하였다. 기획 요구사항으로, 모든 클라이언트에 알림을 발송해서는 안되고 특정 클라이언트에만 보내야할 때가 있다. 이를 위해 특정 ID를 Key로 하고 SSE 값을 Value로 하는 Java의 Map을 사용하여 임시로 구현해놨었다. 이제 서버가 Scale-out을 하는 상황이 고려되어야 하여 Kafka 이벤트를 통해 해당 SSE 알림 기능이 서버 인스턴스가 여러 대 일 때도 동작하도록 구현했다.

## 2. 알고리즘 3문제 풀이

### 공통 원소 구하기

이 문제는 주어진 두 배열의 공통 원소들을 구하는 문제인데, 이중 for문으로 구현하면 시간 제한에 걸리게 된다. 이러한 경우에 Two Pointers 알고리즘을 사용하면 O(n^2)의 시간복잡도를 O(n)으로 줄일 수 있어 시간 초과 없이 문제를 통과할 수 있게 된다. 주의할 점은, 두 배열을 정렬해 놓아야 한다.

### 최대 매출

이 문제는 n개의 숫자형 배열이 주어지고, m개 만큼의 부분 배열의 합이 가장 큰 값을 구하는 문제이다. 대표적인 Sliding Window 유형의 문제로, 해당 알고리즘을 구현하기만 하면 되는 간단한 문제다.

### 연속 부분 수열

주어진 n개의 숫자형 배열이 가질 수 있는 연속된 부분 수열 중 가장 그 합이 큰 것을 찾는 문제다. 최대 매출 문제와 유사하여 Sliding Window 문제라고 착각할 수 있으나, Window 사이즈가 고정되지 않는다는 점에서 Sliding Window 알고리즘으로 풀 수는 없고, Two Pointers 알고리즘을 이용하여 풀어야하는 문제였다.

## 3. 대용량 트래픽 강의 수강

### 게시판 검색 API 개발

Mybatis로 게시판 검색 API를 구현하였고, 앞 단에 Redis를 두어 캐시를 적용하였다.

## 4. NestJS 강의 수강

### 영화 API 개발

NestJS의 @Get, @Post, @Put, @Patch, @Delete 어노테이션을 이용하여 영화 API 각 엔드포인트들을 개발하였다.
